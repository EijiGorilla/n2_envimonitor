"use strict";(self.webpackChunkn2_envimonitor=self.webpackChunkn2_envimonitor||[]).push([[6128],{57996:(e,n,l)=>{l.d(n,{r6:()=>v});l(51508),l(10064);var o,i=l(84652);l(53896),l(48202),l(75021);function t(e){switch(e){case"circle":return{rings:[[[8.5,.2],[7.06,.33],[5.66,.7],[4.35,1.31],[3.16,2.14],[2.14,3.16],[1.31,4.35],[.7,5.66],[.33,7.06],[.2,8.5],[.33,9.94],[.7,11.34],[1.31,12.65],[2.14,13.84],[3.16,14.86],[4.35,15.69],[5.66,16.3],[7.06,16.67],[8.5,16.8],[9.94,16.67],[11.34,16.3],[12.65,15.69],[13.84,14.86],[14.86,13.84],[15.69,12.65],[16.3,11.34],[16.67,9.94],[16.8,8.5],[16.67,7.06],[16.3,5.66],[15.69,4.35],[14.86,3.16],[13.84,2.14],[12.65,1.31],[11.34,.7],[9.94,.33],[8.5,.2]]]};case"square":return{rings:[[[.5,.5],[.5,16.5],[16.5,16.5],[16.5,.5],[.5,.5]]]};case"diamond":return{rings:[[[8.5,.5],[.2,8.5],[8.5,16.5],[16.5,8.5],[8.5,.5]]]};case"hexagon-pointy":return{rings:[[[15.86,12.75],[15.86,4.25],[8.5,0],[1.14,4.25],[1.14,12.75],[8.5,17],[15.86,12.75]]]};case"hexagon-flat":return{rings:[[[12.75,15.86],[17,8.5],[12.75,1.14],[4.25,1.14],[0,8.5],[4.25,15.86],[12.75,15.86]]]}}}function r(e){var n;return"CIMVectorMarker"===(null===e||void 0===e?void 0:e.type)?null===(n=e.markerGraphics)||void 0===n?void 0:n[0]:void 0}function u(e){var n,l;return"CIMPolygonSymbol"===(null===e||void 0===e||null===(n=e.symbol)||void 0===n?void 0:n.type)?null===(l=e.symbol.symbolLayers)||void 0===l?void 0:l[0]:void 0}function s(e,n){"CIMVectorMarker"===(null===e||void 0===e?void 0:e.type)&&null!=n&&(e.size=n)}function a(e,n){const l=r(e);l&&null!=n&&(l.geometry=t(n))}function c(e,n){const l=u(r(e));l&&null!=n&&(l.color=n.toArray())}function d(e,n,l){const o=u(r(e));o&&null!=n&&l&&(o.colorLocked=n)}function v(e,n){var l;const{outerRingSize:t,innerDotSize:r,type:u,color:v,colorLocked:f,primitiveOverrides:y}=n,m="CIMPolygonSymbol"===(null===(l=e.data.symbol)||void 0===l?void 0:l.type)?e.data.symbol.symbolLayers:null;if(2===(null===m||void 0===m?void 0:m.length))for(const i of m){const e=i.primitiveName===o.OuterRing;s(i,e?t:r),a(i,u),c(i,v),d(i,f,e)}return null!=t&&null!=r&&(e.data.primitiveOverrides=null),void 0!==y&&(e.data.primitiveOverrides=(0,i.d9)(y)),e}!function(e){e.OuterRing="reference-size-outer-ring",e.InnerDot="reference-size-inner-dot"}(o||(o={}))},66128:(e,n,l)=>{l.d(n,{QB:()=>y,getRampStops:()=>z,p5:()=>f});var o=l(51995),i=l(51508),t=l(4075),r=l(57996),u=l(49729),s=l(74579),a=l(75434),c=(l(80975),l(37384)),d=l(16072),v=l(16851);const f=30,y=12,m=24,p=[255,255,255],b=[200,200,200],h=[128,128,128],g=20,w=5;async function z(e,n,l,o,i,r,u){var c,d;const v=n.legendOptions,f=null===v||void 0===v?void 0:v.customValues,y=u||await x(e,l),p=n.stops,b=!!y,h=!!f,g=null!=n.minSize&&null!=n.maxSize,w=p&&p.length>1,z=!!n.target;if(!b||!h&&!(g||w&&!z))return;const I=(0,s.YW)(y);let C=!1,D=null,P=null;D=I&&!w?(0,t.NM)([n.minDataValue,n.maxDataValue]):null!==f&&void 0!==f?f:await L(n,y,o,null===i||void 0===i?void 0:i.type);const R=null===e||void 0===e?void 0:e.authoringInfo,q="univariate-color-size"===(null===R||void 0===R?void 0:R.type),B=q&&"above-and-below"===(null===R||void 0===R?void 0:R.univariateTheme),Z=!!(0,a.Kd)(e);if(!D&&w&&(D=p.map((e=>e.value)),C=p.some((e=>!!e.label)),"flow"===e.type&&(D=(0,t.NM)(D)),C&&(P=p.map((e=>e.label)))),I&&null!=D&&(null===(c=D)||void 0===c?void 0:c.length)>2&&!B&&(D=[D[0],D[D.length-1]]),!D)return null;q&&5!==(null===(d=D)||void 0===d?void 0:d.length)&&(D=V({minSize:D[0],maxSize:D[D.length-1]}));const E=I?S(e,D):null,T=(0,s.Y6)(y),Y=C?null:function(e,n){const l=e.length-1;return e.map(((e,o)=>(0,a.MN)(e,o,l,n)))}(D,r);return(await Promise.all(D.map((async(t,r)=>{var u;const s=I?E[r]:await N(n,y,t,o,null===i||void 0===i?void 0:i.type);return{value:t,symbol:!Z||"class-breaks"!==e.type&&"unique-value"!==e.type?O(B&&"class-breaks"===e.type?M(e,r):y,s):null!==(u=k(e,s,n.maxSize,l))&&void 0!==u?u:y,label:C?P[r]:Y[r],size:Z?m:s,outlineSize:T}})))).reverse()}function S(e,n){const l=null===e||void 0===e?void 0:e.authoringInfo,o="univariate-color-size"===(null===l||void 0===l?void 0:l.type);let i=[y,f];if(o){const e=n[0],l=n[n.length-1],o=y,t=f;i=n.map((n=>o+(n-e)/(l-e)*(t-o)))}return o&&"below"===(null===l||void 0===l?void 0:l.univariateTheme)&&i.reverse(),i}function k(e,n,l,i){var t,u;const s="class-breaks"===e.type,a=s?null===(t=e.classBreakInfos)||void 0===t||null===(t=t[0])||void 0===t||null===(t=t.symbol)||void 0===t?void 0:t.clone():null===(u=e.uniqueValueInfos)||void 0===u||null===(u=u[0])||void 0===u||null===(u=u.symbol)||void 0===u?void 0:u.clone();return a&&"type"in a&&"cim"===a.type?((0,r.r6)(a,{color:null!==i&&void 0!==i?i:s?null:new o.Z(b),innerDotSize:n*(m/l)||1,outerRingSize:m}),a):null}function M(e,n){var l;const o=e.classBreakInfos,i=o.length,t=i<2||!(n>=2)?o[0].symbol.clone():o[i-1].symbol.clone(),r=null===(l=e.visualVariables)||void 0===l?void 0:l.some((e=>"color"===e.type));return r&&(t.type.includes("3d")?I(t):C(t)),t}async function x(e,n){var l;if("flow"===e.type)return(0,a.y$)(e,n);if("pie-chart"===e.type)return new d.Z({color:null,outline:null!==(l=e.outline)&&void 0!==l&&l.width?e.outline:new v.Z});let o=null,t=null;if("simple"===e.type)o=e.symbol;else if("class-breaks"===e.type){const n=e.classBreakInfos;o=n&&n[0]&&n[0].symbol,t=n.length>1}else if("unique-value"===e.type){var r;const n=e.uniqueValueInfos;o=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r.symbol,t=null!=n&&n.length>1}return!o||function(e){if(e)return(0,i.dU)(e)?!!e.symbolLayers&&e.symbolLayers.some((e=>e&&"fill"===e.type)):e.type.includes("fill");return!1}(o)?null:(o=o.clone(),(n||t)&&(o.type.includes("3d")?I(o):C(o)),o)}function I(e){"line-3d"===e.type?e.symbolLayers.forEach((e=>{e.material={color:h}})):e.symbolLayers.forEach((e=>{var n;"icon"!==e.type||null!==(n=e.resource)&&void 0!==n&&n.href?e.material={color:b}:(e.material={color:p},e.outline={color:h,size:1.5})}))}function C(e){const n=(0,c.$o)();if("cim"===e.type)(0,u.ZB)(e,new o.Z(b));else if(e.type.includes("line"))e.color=h;else if(e.color=n?h:p,"simple-marker"===e.type)if(e.outline){var l;"#ffffff"===(null===(l=e.outline)||void 0===l||null===(l=l.color)||void 0===l?void 0:l.toHex())&&(e.outline.color=h)}else e.outline={color:h,width:1.5}}async function L(e,n,o,i){const r=(await Promise.resolve().then(l.bind(l,56011))).getSizeRangeAtScale(e,o,i),u=r&&V(r);if(!r||!u)return;let s=u.map((n=>function(e,n,l){const o=l.minSize,i=l.maxSize,t=n.minDataValue,r=n.maxDataValue;let u;u=e<=o?t:e>=i?r:(e-o)/(i-o)*(r-t)+t;return u}(n,e,r)));s=(0,t.NM)(s);for(let l=1;l<s.length-1;l++){const t=await D(e,n,s[l],s[l-1],o,i);t&&(s[l]=t[0],u[l]=t[1])}return s}function V(e){const n=e.minSize,l=e.maxSize,o=w,i=(l-n)/(o-1),t=[];for(let r=0;r<o;r++)t.push(n+i*r);return t}async function D(e,n,l,o,i,r){const u=await N(e,n,l,i,r),s=await N(e,n,o,i,r),a=(0,t.D2)(l),c=a.fractional,d=g;let v=a.integer,f=null,y=null;l>0&&l<1&&(f=10**c,v=(0,t.D2)(l*=f).integer);for(let m=v-1;m>=0;m--){const o=10**m;let a=Math.floor(l/o)*o,c=Math.ceil(l/o)*o;null!=f&&(a/=f,c/=f);let v=(a+c)/2;[,v]=(0,t.NM)([a,v,c],{indexes:[1]});const p=await N(e,n,a,i,r),b=await N(e,n,c,i,r),h=await N(e,n,v,i,r),g=(0,t.f1)(u,p,s,null),w=(0,t.f1)(u,b,s,null),z=(0,t.f1)(u,h,s,null);let S=g.previous<=d,k=w.previous<=d;if(S&&k&&(g.previous<=w.previous?(S=!0,k=!1):(k=!0,S=!1)),S?y=[a,p]:k?y=[c,b]:z.previous<=d&&(y=[v,h]),y)break}return y}async function N(e,n,o,i,t){const{getSize:r}=await Promise.resolve().then(l.bind(l,56011));return r(e,o,{scale:i,view:t,shape:"simple-marker"===n.type?n.style:null})}function O(e,n){const l=e.clone();if((0,i.dU)(l))(0,s.YW)(l)||l.symbolLayers.forEach((e=>{"fill"!==e.type&&(e.size=n)}));else if(function(e){return"esri.symbols.SimpleMarkerSymbol"===e.declaredClass}(l))l.size=n;else if(function(e){return"esri.symbols.PictureMarkerSymbol"===e.declaredClass}(l)){const e=l.width,o=l.height;l.height=n,l.width=n*(e/o)}else!function(e){return"esri.symbols.SimpleLineSymbol"===e.declaredClass}(l)?function(e){return"esri.symbols.TextSymbol"===e.declaredClass}(l)&&l.font&&(l.font.size=n):l.width=n;return l}}}]);
//# sourceMappingURL=6128.7eca9cc2.chunk.js.map